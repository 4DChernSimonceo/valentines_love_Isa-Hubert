/*
 * Shared styles for the Valentine's Day site.
 *
 * This file defines the look and feel for both the front page and the
 * message page. The layout is designed to be responsive and use
 * floating hearts as decoration throughout the pages. The styles are
 * separated by section to make maintenance easy.
 */

/* Reset some default styles */
body {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Arial', sans-serif;
  color: #fff;
}

h1, h2, h3 {
  margin: 0;
  padding: 0;
}

/* --------------------------------------------------
 * Front page styles
 * The front page displays the question and two buttons. The
 * hearts float in the background to create a romantic atmosphere.
 */
.front-page {
  background: linear-gradient(135deg, #ff7e7e, #ffa3a3);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.front-page .title {
  font-size: 3rem;
  margin-bottom: 2rem;
  color: #fff;
}

.buttons {
  margin-top: 1.5rem;
  display: flex;
  gap: 1rem;
  z-index: 2;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 30px;
  font-size: 1.2rem;
  cursor: pointer;
  transition: transform 0.2s, background 0.3s;
  color: #fff;
}

.btn.yes {
  background: #ff3f3f;
}

.btn.no {
  background: #555;
}

.btn:hover {
  transform: scale(1.05);
}

.message {
  font-size: 1rem;
  margin-top: 1rem;
  max-width: 80%;
  line-height: 1.4;
}

/* --------------------------------------------------
 * Hearts container styles
 * The hearts container is used on both pages to hold floating hearts.
 * The hearts themselves are created via JavaScript and use CSS to form
 * the classic heart shape. They float upward and fade out.
 */
.hearts-container,
.decor-hearts {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
}

.heart {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: rgba(255, 0, 0, 0.8);
  transform: rotate(-45deg);
  animation: float 8s linear infinite;
}

.heart::before,
.heart::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: inherit;
  border-radius: 50%;
}

.heart::before {
  top: -10px;
  left: 0;
}

.heart::after {
  left: 10px;
  top: 0;
}

@keyframes float {
  0% {
    transform: translateY(0) rotate(-45deg);
    opacity: 0.9;
  }
  50% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-120vh) rotate(-45deg);
    opacity: 0;
  }
}

/* --------------------------------------------------
 * Message page styles
 * The message page includes a darkened background image, a scrolling
 * text crawl reminiscent of the Star Wars introduction, and a final
 * message reveal once the crawl completes. Hearts and an "I love you"
 * banner decorate the page.
 */
.message-page {
  background: #000;
  min-height: 100vh;
  overflow: hidden;
  position: relative;
  color: #fff;
}

.i-love-you {
  position: absolute;
  top: 20px;
  width: 100%;
  text-align: center;
  font-size: 2.5rem;
  font-weight: bold;
  color: #ff8fa3;
  z-index: 3;
}

/* Background image overlay */
#background-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  /* Try multiple image names so either .jpg or .JPG is loaded. The
     browser will use the first valid image it finds. */
  background-image: url('valentine_background.JPG'), url('valentine_background.jpg');
  background-size: cover;
  background-position: center;
  /* Start slightly desaturated and dim */
  filter: grayscale(40%) brightness(60%);
  transition: filter 2s ease;
  z-index: 0;
}

/* Star wars crawl container */
.star-wars {
  position: relative;
  /* Reduce the size of the crawl window so only a few lines are visible
     at any given time. The width and height were trimmed down from
     the original values to create a more contained viewport. */
  width: 70%;
  height: 40vh;
  margin: 20vh auto 0;
  perspective: 500px;
  overflow: hidden;
  z-index: 2;

  /* Overlay gradients to hide text entering and leaving the viewport. The
     gradients at the top and bottom fade the text in and out so only
     a few lines are clearly visible at once. */
  position: relative;
}

/* Top and bottom gradients for the crawl effect */
.star-wars::before,
.star-wars::after {
  content: '';
  position: absolute;
  left: 0;
  width: 100%;
  /* Cover 30% of the container at the top and bottom so only the
     centre 40% of the crawl is clearly visible. This helps limit the
     visible lines to just a few at a time. */
  height: 30%;
  pointer-events: none;
  z-index: 3;
}
.star-wars::before {
  top: 0;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0));
}
.star-wars::after {
  bottom: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0));
}

.crawl {
  position: absolute;
  bottom: -100%;
  width: 100%;
  transform-origin: 50% 100%;
  animation: crawl 60s linear forwards;
}

.crawl p {
  font-size: 1.2rem;
  line-height: 1.5;
  text-align: justify;
  margin: 0.5rem 0;
}

@keyframes crawl {
  0% {
    bottom: -100%;
    transform: rotateX(20deg) translateZ(0);
  }
  100% {
    bottom: 100%;
    transform: rotateX(20deg) translateZ(-2000px);
  }
}

/* --------------------------------------------------
 * Teleprompter styles
 * These styles define a simple scrolling window that displays
 * groups of text on top of the background. The container is
 * semiâ€‘transparent to ensure the background image is still
 * visible. The content font size is increased for better
 * readability on smaller screens.
 */
.teleprompter {
  position: relative;
  width: 80%;
  max-width: 800px;
  height: 30vh;
  margin: 15vh auto 0;
  overflow: hidden;
  background: rgba(0, 0, 0, 0.4);
  border-radius: 10px;
  padding: 1rem;
  box-sizing: border-box;
  z-index: 2;
}

.teleprompter-content {
  font-size: 1.4rem;
  line-height: 1.6;
  color: #ffffff;
  /* When the teleprompter updates the content, ensure it starts at
     the top of the container. */
  margin: 0;
}

/* Adjust teleprompter font sizes for smaller screens */
@media (max-width: 600px) {
  .teleprompter {
    width: 90%;
    height: 35vh;
  }
  .teleprompter-content {
    font-size: 1.1rem;
    line-height: 1.5;
  }
}

/* Full message reveal */
.full-message {
  display: none;
  /* Position the full message relative to the normal flow so the page
     expands to fit it. This avoids the issue where long text
     overflows past the bottom of the page. */
  position: relative;
  margin: 3rem auto;
  left: auto;
  bottom: auto;
  transform: none;
  width: 80%;
  max-width: 800px;
  padding: 1rem;
  background: rgba(0, 0, 0, 0.6);
  border-radius: 10px;
  z-index: 3;
}

.full-message h2 {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: #ff8fa3;
}

.full-message p {
  font-size: 1rem;
  line-height: 1.4;
}

/* Responsive tweaks */
@media (max-width: 600px) {
  .front-page .title {
    font-size: 2rem;
  }
  .btn {
    font-size: 1rem;
    padding: 0.5rem 1rem;
  }
  .star-wars {
    width: 90%;
    height: 50vh;
  }
}